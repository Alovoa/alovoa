spring.datasource.driver-class-name=org.mariadb.jdbc.Driver
spring.datasource.url=jdbc:mariadb://mysql:3306/alovoa?createDatabaseIfNotExist=true&serverTimezone=UTC&useLegacyDatetimeCode=false
spring.jpa.properties.hibernate.id.db_structure_naming_strategy=standard

# keys for transparent database encryption
app.text.key=bqupWgmhCj3fedLxYdNAy2QFA2bS9XJX
app.text.salt=sFRKQAhwdrZq44FQ

app.admin.email=admin@alovoa.com
app.admin.key=password

# we don't have a working mail setup, so don't test the connection
spring.mail.test-connection=false

# fix "Too many connections" error, see https://stackoverflow.com/a/63474915/4266296
spring.datasource.hikari.minimum-idle=1

spring.cache.type=NONE
bucket4j.enabled=false

spring.security.oauth2.client.registration.google.client-id=test
spring.security.oauth2.client.registration.google.client-secret=test
spring.security.oauth2.client.registration.facebook.client-id=test 
spring.security.oauth2.client.registration.facebook.client-secret=test

##############################################################################
spring.cloud.vault.uri=https://vault.test.felsing.net:8200
spring.cloud.vault.token=${vault.token}
spring.cloud.vault.templatepath=database/creds/mysqlrole
#spring.cloud.vault.ssl.trust-store=classpath:truststore.jks
#spring.cloud.vault.ssl.trust-store-password=changeit
##############################################################################
# cp /etc/pki/ca-trust/extracted/java/cacerts truststore.jks
# keytool -keystore truststore.jks  -alias vault-ca -import -file ca.crt -storepass changeit -noprompt
##############################################################################

##############################################################################
spring.data.redis.cluster.nodes=10.96.1.31:6373,10.96.1.32:6374,10.96.1.33:6375,10.96.1.34:6376,10.96.1.35:6377,10.96.1.36:6378
spring.data.redis.ssl.enabled=true

# keytool -import -alias "redis" -file "redis-truststore.pem" -keystore "redis-truststore.jks" -storepass changeit -noprompt
# openssl pkcs12 -export -name redis -in redis-user.pem -out redis-user.p12
spring.ssl.bundle.jks.redisbundle.key.alias=redis

spring.ssl.bundle.jks.redisbundle.keystore.location=classpath:redis-user.p12
spring.ssl.bundle.jks.redisbundle.keystore.password=changeit
spring.ssl.bundle.jks.redisbundle.keystore.type=pkcs12

spring.ssl.bundle.jks.redisbundle.truststore.location=classpath:redis-truststore.jks
spring.ssl.bundle.jks.redisbundle.truststore.password=changeit
spring.ssl.bundle.jks.redisbundle.truststore.type=jks

spring.data.redis.ssl.bundle=redisbundle

spring.data.redis.username=alovoa
spring.data.redis.password=4F88wnnxIM4GoUHtFcMa6Evy5MyDavSe
##############################################################################
